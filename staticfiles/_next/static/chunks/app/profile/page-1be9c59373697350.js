(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{4327:function(e,s,r){Promise.resolve().then(r.bind(r,1380))},1380:function(e,s,r){"use strict";r.r(s);var t=r(7437),a=r(2265),d=r(9376),l=r(9636),o=r(9064),i=r(5974);s.default=()=>{var e;let[s,r]=(0,a.useState)(null),[n,c]=(0,a.useState)(!0),[m,u]=(0,a.useState)("not_submitted"),[x,h]=(0,a.useState)(!1),[b,p]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),w=(0,d.useRouter)();(0,a.useEffect)(()=>{(async()=>{try{let e=await l.Z.getProfile();r(e);try{let e=await l.Z.getKYCStatus();u(e.status||"not_submitted")}catch(e){console.error("Failed to fetch KYC status:",e),u("not_submitted")}}catch(e){console.error("Failed to fetch user profile:",e),o.ZP.error("Failed to load profile")}finally{c(!1)}})()},[]);let j=async e=>{if(e.preventDefault(),b.newPassword!==b.confirmPassword){o.ZP.error("New passwords do not match");return}if(b.newPassword.length<6){o.ZP.error("Password must be at least 6 characters long");return}h(!0);try{await l.Z.changePassword({currentPassword:b.currentPassword,newPassword:b.newPassword}),o.ZP.success("Password changed successfully"),p({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){o.ZP.error(e.message||"Failed to change password")}finally{h(!1)}};return n?(0,t.jsx)("div",{className:"min-h-screen bg-darkmode flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-white text-xl",children:"Loading..."})}):s?(0,t.jsx)(i.Z,{children:(0,t.jsx)("div",{className:"container mx-auto px-6 py-8 pb-24",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"bg-section bg-opacity-10 border border-section border-opacity-20 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Basic Details"}),(0,t.jsxs)("div",{className:"flex items-center mb-6",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gray-400 rounded-full flex items-center justify-center mr-4",children:(0,t.jsx)("span",{className:"text-darkmode font-bold text-2xl",children:null===(e=s.name)||void 0===e?void 0:e.charAt(0).toUpperCase()})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-semibold text-lg",children:s.name}),(0,t.jsxs)("p",{className:"text-muted",children:["Member since ",new Date().getFullYear()]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-muted text-sm mb-1",children:"Full Name"}),(0,t.jsx)("div",{className:"bg-darkmode border border-section border-opacity-20 rounded-lg p-3",children:(0,t.jsx)("span",{className:"text-white",children:s.name})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-muted text-sm mb-1",children:"Email Address"}),(0,t.jsx)("div",{className:"bg-darkmode border border-section border-opacity-20 rounded-lg p-3",children:(0,t.jsx)("span",{className:"text-white",children:s.email})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-muted text-sm mb-1",children:"User ID"}),(0,t.jsx)("div",{className:"bg-darkmode border border-section border-opacity-20 rounded-lg p-3",children:(0,t.jsx)("span",{className:"text-white",children:s.id})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-muted text-sm mb-1",children:"Account Status"}),(0,t.jsx)("div",{className:"bg-darkmode border border-section border-opacity-20 rounded-lg p-3",children:(0,t.jsx)("span",{className:"text-green-500",children:"Active"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-muted text-sm mb-1",children:"Verification Status"}),(0,t.jsx)("div",{className:"bg-darkmode border border-section border-opacity-20 rounded-lg p-3 flex items-center justify-between",children:"verified"===m?(0,t.jsxs)("span",{className:"text-green-500 flex items-center",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Verified"]}):"pending"===m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"text-yellow-500 flex items-center",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"Under Review"]}),(0,t.jsx)("button",{onClick:()=>w.push("/verify"),className:"bg-gray-500 text-white px-3 py-1 rounded text-sm font-medium cursor-not-allowed opacity-50",disabled:!0,children:"Pending"})]}):"rejected"===m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"text-red-500 flex items-center",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Rejected"]}),(0,t.jsx)("button",{onClick:()=>w.push("/verify"),className:"bg-primary hover:bg-opacity-80 text-darkmode px-3 py-1 rounded text-sm font-medium transition-colors",children:"Resubmit"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"text-red-500 flex items-center",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Not Verified"]}),(0,t.jsx)("button",{onClick:()=>w.push("/verify"),className:"bg-primary hover:bg-opacity-80 text-darkmode px-3 py-1 rounded text-sm font-medium transition-colors",children:"Verify Now"})]})})]})]})]}),(0,t.jsxs)("div",{className:"bg-section bg-opacity-10 border border-section border-opacity-20 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Change Password"}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-muted text-sm mb-2",children:"Current Password"}),(0,t.jsx)("input",{type:"password",value:b.currentPassword,onChange:e=>p({...b,currentPassword:e.target.value}),className:"w-full bg-darkmode border border-section border-opacity-20 rounded-lg p-3 text-white focus:border-primary focus:outline-none transition-colors",placeholder:"Enter current password",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-muted text-sm mb-2",children:"New Password"}),(0,t.jsx)("input",{type:"password",value:b.newPassword,onChange:e=>p({...b,newPassword:e.target.value}),className:"w-full bg-darkmode border border-section border-opacity-20 rounded-lg p-3 text-white focus:border-primary focus:outline-none transition-colors",placeholder:"Enter new password",required:!0,minLength:6})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-muted text-sm mb-2",children:"Confirm New Password"}),(0,t.jsx)("input",{type:"password",value:b.confirmPassword,onChange:e=>p({...b,confirmPassword:e.target.value}),className:"w-full bg-darkmode border border-section border-opacity-20 rounded-lg p-3 text-white focus:border-primary focus:outline-none transition-colors",placeholder:"Confirm new password",required:!0,minLength:6})]}),(0,t.jsxs)("div",{className:"bg-darkmode border border-section border-opacity-20 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-muted text-sm mb-2",children:"Password requirements:"}),(0,t.jsxs)("ul",{className:"text-muted text-xs space-y-1",children:[(0,t.jsx)("li",{children:"• At least 6 characters long"}),(0,t.jsx)("li",{children:"• Must contain uppercase and lowercase letters"}),(0,t.jsx)("li",{children:"• Must contain at least one number"}),(0,t.jsx)("li",{children:"• Must contain at least one special character"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:x,className:"w-full bg-primary hover:bg-opacity-80 disabled:bg-opacity-50 text-darkmode py-3 rounded-lg font-medium transition-colors",children:x?"Changing Password...":"Change Password"})]}),(0,t.jsxs)("div",{className:"mt-6 bg-darkmode border border-section border-opacity-20 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-medium mb-2",children:"Security Tips"}),(0,t.jsxs)("ul",{className:"text-muted text-sm space-y-1",children:[(0,t.jsx)("li",{children:"• Never share your password with anyone"}),(0,t.jsx)("li",{children:"• Use a unique password for your QFS Ledger account"}),(0,t.jsx)("li",{children:"• Enable two-factor authentication for extra security"}),(0,t.jsx)("li",{children:"• Log out when using shared devices"})]})]})]})]})})}):null}}},function(e){e.O(0,[972,279,974,971,117,744],function(){return e(e.s=4327)}),_N_E=e.O()}]);